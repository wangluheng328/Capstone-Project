/*! Locuszoom 0.14.0 */
var LzIntervalsEnrichment;(()=>{"use strict";var e={d:(t,a)=>{for(var i in a)e.o(a,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:a[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>n});const a=Symbol.for("lzXCS"),i=Symbol.for("lzYCS"),s=Symbol.for("lzXCE"),l=Symbol.for("lzYCE");function r(e){const t={start_field:"start",end_field:"end",track_height:10,track_vertical_spacing:3,bounding_box_padding:2,color:"#B8B8B8",fill_opacity:.5,tooltip_positioning:"vertical"},r=e.DataLayers.get("BaseDataLayer");const n={namespace:{intervals:"intervals"},closable:!0,show:{or:["highlighted","selected"]},hide:{and:["unhighlighted","unselected"]},html:"<b>Tissue</b>: {{intervals:tissueId|htmlescape}}<br>\n               <b>Range</b>: {{intervals:chromosome|htmlescape}}: {{intervals:start|htmlescape}}-{{intervals:end|htmlescape}}<br>\n               <b>-log<sub>10</sub> p</b>: {{intervals:pValue|neglog10|scinotation|htmlescape}}<br>\n               <b>Enrichment (n-fold)</b>: {{intervals:fold|scinotation|htmlescape}}"},o={id:"intervals_enrichment",type:"intervals_enrichment",tag:"intervals_enrichment",namespace:{intervals:"intervals"},match:{send:"intervals:tissueId"},id_field:"intervals:start",start_field:"intervals:start",end_field:"intervals:end",filters:[{field:"intervals:ancestry",operator:"=",value:"EU"},{field:"intervals:pValue",operator:"<=",value:.05},{field:"intervals:fold",operator:">",value:2}],y_axis:{axis:1,field:"intervals:fold",floor:0,upper_buffer:.1,min_extent:[0,10]},fill_opacity:.5,color:[{field:"intervals:tissueId",scale_function:"stable_choice",parameters:{values:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"]}}],behaviors:{onmouseover:[{action:"set",status:"highlighted"}],onmouseout:[{action:"unset",status:"highlighted"}],onclick:[{action:"toggle",status:"selected",exclusive:!0}],onshiftclick:[{action:"toggle",status:"selected"}]},tooltip:n},c={id:"interval_matches",type:"highlight_regions",namespace:{intervals:"intervals"},match:{receive:"intervals:tissueId"},start_field:"intervals:start",end_field:"intervals:end",merge_field:"intervals:tissueId",filters:[{field:"lz_is_match",operator:"=",value:!0},{field:"intervals:ancestry",operator:"=",value:"EU"},{field:"intervals:pValue",operator:"<=",value:.05},{field:"intervals:fold",operator:">",value:2}],color:[{field:"intervals:tissueId",scale_function:"stable_choice",parameters:{values:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"]}}],fill_opacity:.1},d={id:"intervals_enrichment",tag:"intervals_enrichment",min_height:250,height:250,margin:{top:35,right:50,bottom:40,left:70},inner_border:"rgb(210, 210, 210)",axes:{x:{label:"Chromosome {{chr}} (Mb)",label_offset:34,tick_format:"region",extent:"state"},y1:{label:"enrichment (n-fold)",label_offset:40}},interaction:{drag_background_to_pan:!0,drag_x_ticks_to_scale:!0,drag_y1_ticks_to_scale:!0,scroll_to_zoom:!0,x_linked:!0},data_layers:[o]},h={state:{},width:800,responsive_resize:!0,min_region_scale:2e4,max_region_scale:1e6,toolbar:e.Layouts.get("toolbar","standard_association"),panels:[function(){const t=e.Layouts.get("panel","association");return t.data_layers.unshift(c),t}(),d,e.Layouts.get("panel","genes")]};e.DataLayers.add("intervals_enrichment",class extends r{constructor(a){e.Layouts.merge(a,t),super(...arguments)}getTrackHeight(){return this.layout.track_height+this.layout.track_vertical_spacing+2*this.layout.bounding_box_padding}render(){const e=this._applyFilters(this.data),{start_field:t,end_field:r,bounding_box_padding:n,track_height:o}=this.layout,c=this.layout.y_axis.field,d=`y${this.layout.y_axis.axis}_scale`,{x_scale:h,[d]:f}=this.parent;e.forEach((e=>{e[a]=h(e[t]),e[s]=h(e[r]),e[i]=f(e[c])-this.getTrackHeight()/2+n,e[l]=e[i]+o})),e.sort(((e,t)=>{const i=e[s]-e[a];return t[s]-t[a]-i}));const _=this.svg.group.selectAll("rect").data(e);_.enter().append("rect").merge(_).attr("id",(e=>this.getElementId(e))).attr("x",(e=>e[a])).attr("y",(e=>e[i])).attr("width",(e=>e[s]-e[a])).attr("height",this.layout.track_height).attr("fill",((e,t)=>this.resolveScalableParameter(this.layout.color,e,t))).attr("fill-opacity",((e,t)=>this.resolveScalableParameter(this.layout.fill_opacity,e,t))),_.exit().remove(),this.svg.group.call(this.applyBehaviors.bind(this))}_getTooltipPosition(e){return{x_min:e.data[a],x_max:e.data[s],y_min:e.data[i],y_max:e.data[l]}}}),e.Layouts.add("tooltip","intervals_enrichment",n),e.Layouts.add("data_layer","intervals_enrichment",o),e.Layouts.add("panel","intervals_enrichment",d),e.Layouts.add("plot","intervals_association_enrichment",h)}"undefined"!=typeof LocusZoom&&LocusZoom.use(r);const n=r;LzIntervalsEnrichment=t.default})();
//# sourceMappingURL=lz-intervals-enrichment.min.js.map